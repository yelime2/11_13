<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multitasking Game</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://4pl67mv56j.execute-api.ap-northeast-2.amazonaws.com">
<link rel="stylesheet" href="https://4pl67mv56j.execute-api.ap-northeast-2.amazonaws.com/v1/api/css/drop_fontstream_css/?sid=gAAAAABpEtwWUmmMvQ93GGgVQi72HQ36TJMa9UETk_SqQIehtEZfz63ied3JUsZNRZKc_FflOdVbbbeRMTv7DPO4Kh4KFXxwdDyYlq4rxojd8vJIenL8HYjy52u6bL6a3kNDVqlRczbErQLyZmxmV3vFxO2PW5Ysb0p1tzGdvVBEyecC4h1RLmf4DwjASDMfotfjWZ90wEjXYBHFDLApPsHvfIOcblQhtEGLNjpLuF7JnYdrfOgus9a_USxRF5gaLJRTonv343Rh" charset="utf-8" referrerpolicy="origin"></link>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Oxygen:wght@500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- ë©”ì¸ í™”ë©´ -->
    <div class="main-screen" id="mainContainer">
        <button class="start-btn" onclick="enterGames()">ì—…ë¬´ ì‹œì‘
        </button>
    </div>

    <!-- ê²Œì„ë“¤ì´ ìŒ“ì—¬ìˆëŠ” ì˜ì—­ (ì²˜ìŒì—ëŠ” ìˆ¨ê¹€) -->
    <div class="games-wrapper" id="gamesWrapper" style="display: none;">
        <!-- ê²Œì„ 1 -->
        <div class="game-layer" id="game1">
            <div class="game-window" id="gameWindow1">
                <div class="window-header" id="windowHeader1">
                    <span class="window-title">TASK 1 ë©”ì¼ ë³´ë‚´ê¸°</span>
                    <span class="task-complete" id="taskComplete" style="display: none;">ì—…ë¬´ì™„ë£Œ</span>
                </div>
                <div class="window-content">
                    <div class="game-area" id="gameArea">
                        <div class="email-form">
                            <div class="email-header">
                                <div class="email-fields">
                                    <div class="email-field">
                                        <label>To</label>
                                        <input type="text" id="emailTo" placeholder="">
                                    </div>
                                    <div class="email-field">
                                        <label>Subject</label>
                                        <input type="text" id="emailSubject" placeholder="">
                                    </div>
                                </div>
                                <div class="email-options">
                                    <span class="cc-bcc">Cc Bcc</span>
                                </div>
                            </div>
                            <div class="email-body">
                                <textarea id="emailBody" placeholder=""></textarea>
                            </div>
                            <div class="email-footer">
                                <button class="send-btn" onclick="sendEmail()">Send</button>
                                <div class="email-actions">
                                    <button class="action-icon" title="ì‚­ì œ">ğŸ—‘ï¸</button>
                                    <button class="action-icon" title="ë”ë³´ê¸°">â‹®</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ì•Œë¦¼ ì°½ (ê²Œì„ ì„¤ëª…) -->
        <div class="info-panel" id="infoPanel">
            <div class="info-header">
                <span class="info-title">NOTIFICATION 1</span>
                <button class="minimize-btn" onclick="toggleInfoPanel()">_</button>
            </div>
            <div class="info-content" id="infoContent">
                <p>ì›ë¬¸ì„ ì°¸ê³ í•˜ì—¬ ë©”ì¼ì„ ì •í™•í•˜ê²Œ ì…ë ¥í•˜ê³  ë³´ë‚´ê¸° ë²„íŠ¼ì„ ëˆ„ë¥´ì„¸ìš”.</p>
                <a href="#" class="view-original" onclick="openOriginalModal(event)">[ì›ë¬¸ë³´ê¸°]</a>
            </div>
        </div>
        
        
        <!-- ë‚˜ì¤‘ì— ê²Œì„ 2, 3... ì—¬ê¸°ì— ì¶”ê°€ -->
    </div>

    <script src="game1.js"></script>
    <script>
        function enterGames() {
            // ë©”ì¸ í™”ë©´ ìˆ¨ê¸°ê¸°
            document.getElementById('mainContainer').style.display = 'none';
            // ê²Œì„ ì˜ì—­ ë³´ì´ê¸°
            document.getElementById('gamesWrapper').style.display = 'block';
        }
        
        function closeInfoPanel() {
            document.getElementById('infoPanel').style.display = 'none';
        }
        
        function toggleInfoPanel() {
            const panel = document.getElementById('infoPanel');
            const content = document.getElementById('infoContent');
            
            if (panel.classList.contains('minimized')) {
                // í™•ì¥
                panel.classList.remove('minimized');
                content.style.display = 'block';
            } else {
                // ì¶•ì†Œ
                panel.classList.add('minimized');
                content.style.display = 'none';
            }
        }
        
        function toggleWindowCollapse() {
            const gameWindow = document.getElementById('gameWindow1');
            const windowContent = gameWindow.querySelector('.window-content');
            
            if (gameWindow.classList.contains('collapsed')) {
                // í¼ì¹˜ê¸°
                windowContent.style.display = 'flex';
                gameWindow.style.height = '400px';
                gameWindow.classList.remove('collapsed');
            } else {
                // ì ‘ê¸°
                windowContent.style.display = 'none';
                gameWindow.style.height = 'auto';
                gameWindow.classList.add('collapsed');
            }
        }
        
        function sendEmail() {
            const to = document.getElementById('emailTo').value.trim();
            const subject = document.getElementById('emailSubject').value.trim();
            const body = document.getElementById('emailBody').value;
            
            if (!to || !subject || !body.trim()) {
                alert('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            // ì •ë‹µ (ì›ë¬¸ ë‚´ìš©)
            const correctTo = 'example@email.com';
            const correctSubject = 'íšŒì˜ ì•ˆë‚´';
            const correctBody = 'ì•ˆë…•í•˜ì„¸ìš”, ë””ìì¸ ê²€í†  ë¯¸íŒ…ì´ 12ì›” 8ì¼(ì›”) ì˜¤í›„ 2ì‹œì— ì˜ˆì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤. íšŒì˜ ì¥ì†ŒëŠ” íšŒì˜ì‹¤ B-2ì´ë©°, ì£¼ìš” ì•ˆê±´ì€ ì‹ ê·œ ëœë”© í˜ì´ì§€ ì¸í„°ë™ì…˜ ë°©í–¥ ê²€í† ì…ë‹ˆë‹¤. ì°¸ì„ ë¶€íƒë“œë¦½ë‹ˆë‹¤. ê°ì‚¬í•©ë‹ˆë‹¤.';
            
            // ë³¸ë¬¸ ë¹„êµ í•¨ìˆ˜ (ì¤„ë°”ê¿ˆ ì œê±° ë° ê³µë°± ì •ê·œí™”)
            function normalizeText(text) {
                return text
                    .replace(/\r\n/g, ' ')  // Windows ì¤„ë°”ê¿ˆì„ ê³µë°±ìœ¼ë¡œ
                    .replace(/\r/g, ' ')    // Mac ì¤„ë°”ê¿ˆì„ ê³µë°±ìœ¼ë¡œ
                    .replace(/\n/g, ' ')    // Unix ì¤„ë°”ê¿ˆì„ ê³µë°±ìœ¼ë¡œ
                    .replace(/[ \t]+/g, ' ')  // ì—¬ëŸ¬ ê³µë°±ì„ í•˜ë‚˜ë¡œ
                    .trim();
            }
            
            // ì˜¤íƒ€ ê²€ì‚¬
            const isToCorrect = to === correctTo;
            const isSubjectCorrect = subject === correctSubject;
            const isBodyCorrect = normalizeText(body) === normalizeText(correctBody);
            
            if (isToCorrect && isSubjectCorrect && isBodyCorrect) {
                alert('ë©”ì¼ ë³´ë‚´ê¸° ì„±ê³µ');
                
                // ìœˆë„ìš°ë¥¼ í—¤ë”ë§Œ ë‚¨ê¸°ê³  ì ‘ê¸°
                const gameWindow = document.getElementById('gameWindow1');
                const windowContent = gameWindow.querySelector('.window-content');
                const taskComplete = document.getElementById('taskComplete');
                
                windowContent.style.display = 'none';
                gameWindow.style.height = 'auto';
                gameWindow.classList.add('collapsed');
                taskComplete.style.display = 'block';
                
                // í—¤ë” í´ë¦­ ì‹œ ë‹¤ì‹œ í¼ì¹˜ê¸°
                const windowHeader = document.getElementById('windowHeader1');
                windowHeader.onclick = function(e) {
                    // ë“œë˜ê·¸ ì¤‘ì´ ì•„ë‹ ë•Œë§Œ í¼ì¹˜ê¸°
                    if (!windowHeader.classList.contains('dragging')) {
                        toggleWindowCollapse();
                    }
                };
            } else {
                alert('ì˜¤íƒ€ê°€ ìˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì „ì†¡í•˜ì„¸ìš”.');
            }
        }
        
        function openOriginalModal(e) {
            e.preventDefault();
            // ì›ë¬¸ ë‚´ìš©ì„ ì—¬ê¸°ì— ì‘ì„±í•˜ì„¸ìš”
            const originalText = `ë°›ëŠ” ì‚¬ëŒ: example@email.com
ì œëª©: íšŒì˜ ì•ˆë‚´

ì•ˆë…•í•˜ì„¸ìš”,
ë””ìì¸ ê²€í†  ë¯¸íŒ…ì´ 12ì›” 8ì¼(ì›”) ì˜¤í›„ 2ì‹œì— ì˜ˆì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
íšŒì˜ ì¥ì†ŒëŠ” íšŒì˜ì‹¤ B-2ì´ë©°,
ì£¼ìš” ì•ˆê±´ì€ ì‹ ê·œ ëœë”© í˜ì´ì§€ ì¸í„°ë™ì…˜ ë°©í–¥ ê²€í† ì…ë‹ˆë‹¤. ì°¸ì„ ë¶€íƒë“œë¦½ë‹ˆë‹¤.
ê°ì‚¬í•©ë‹ˆë‹¤.`;
            
            const popup = window.open('', 'ì›ë¬¸ë³´ê¸°', 'width=600,height=500,scrollbars=yes,resizable=yes');
            
            if (popup) {
                // HTML íŠ¹ìˆ˜ë¬¸ì ì´ìŠ¤ì¼€ì´í”„
                const escapedText = originalText
                    .replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;')
                    .replace(/"/g, '&quot;')
                    .replace(/'/g, '&#039;');
                
                popup.document.write(`
                    <!DOCTYPE html>
                    <html lang="ko">
                    <head>
                        <meta charset="UTF-8">
                        <title>ì›ë¬¸</title>
                        <style>
                            * {
                                margin: 0;
                                padding: 0;
                                box-sizing: border-box;
                            }
                            body {
                                font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
                                background: #e2ff6e;
                                padding: 20px;
                            }
                            .popup-content {
                                background: #e2ff6e;
                                padding: 20px;
                                max-width: 100%;
                                line-height: 1.6;
                                color: black;
                            }
                            .popup-content p {
                                white-space: pre-wrap;
                                margin: 0;
                            }
                        </style>
                    </head>
                    <body>
                        <div class="popup-content">
                            <p>${escapedText}</p>
                        </div>
                    </body>
                    </html>
                `);
                popup.document.close();
            }
        }
    </script>
</body>
</html>